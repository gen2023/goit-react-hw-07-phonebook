(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{39:function(e,t,n){e.exports=n(89)},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(12),o=n.n(r),u=n(38),l=n(10),i=n(13),s=n(14),m=n(16),b=n(15),f=n(5),d=n(18),h=n.n(d),p=n(3),v=Object(p.b)("contacts/listContactRequest"),j=Object(p.b)("contacts/listContactSuccess"),O=Object(p.b)("contacts/listContactError"),E=Object(p.b)("contacts/saveContactRequest"),C=Object(p.b)("contacts/saveContactSuccess"),y=Object(p.b)("contacts/saveContactError"),g=Object(p.b)("contacts/removeContactRequest"),k=Object(p.b)("contacts/removeContactSuccess"),w=Object(p.b)("contacts/removeContactError"),N=Object(p.b)("contacts/changeFilter");h.a.defaults.baseURL="http://localhost:4020";var F,L,M=function(e){var t=e.name,n=e.number;return function(e){var a={name:t,number:n};e(E()),h.a.post("/contacts",a).then((function(t){var n=t.data;return e(C(n))})).catch((function(t){return e(y(t))}))}},S=function(e){return function(t){t(g()),h.a.delete("/contacts/".concat(e)).then((function(){return t(k(e))})).catch((function(e){return t(w(e))}))}},D=function(){return function(e){e(v()),h.a.get("/contacts").then((function(t){var n=t.data;return e(j(n))})).catch((function(t){return e(O(t))}))}},R=n(8),x=function(e){return e.contacts.loading},q=function(e){return e.contacts.filter},A=function(e){return e.contacts.items},B=Object(R.a)([A,q],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),_=(n(65),document.querySelector("#modal-root")),K=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(r.createPortal)(c.a.createElement("div",{className:"Modal__backdrop",onClick:this.handleBackdropClick},c.a.createElement("div",{className:"Modal__content"},c.a.createElement("span",null,this.props.children))),_)}}]),n}(a.Component),T=(n(66),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={name:"",number:"",message:"",showModal:!1},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(f.a)({},a,c))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.name,c=n.number,r=e.props.contacts.find((function(e){return a===e.name})),o=e.props.onContact;a&&c&&(a||c)?r?alert("".concat(a," is already in contacts")):(o(e.state),e.resetForm()):alert("Fill in all the fields")},e.closeModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(s.a)(n,[{key:"resetForm",value:function(){this.setState({name:"",number:""})}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.number,a=e.message,r=e.showModal;return c.a.createElement(c.a.Fragment,null,r&&c.a.createElement(K,{onClose:this.closeModal},a),c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("div",null,c.a.createElement("label",null,"Name",c.a.createElement("input",{type:"text",className:"input",placeholder:"Enter name",value:t,name:"name",onChange:this.handleChange}))),c.a.createElement("div",null,c.a.createElement("label",null,"Number",c.a.createElement("input",{type:"text",className:"input",placeholder:"Enter number",value:n,name:"number",onChange:this.handleChange}))),c.a.createElement("button",{type:"submit"},"Add contact")))}}]),n}(a.Component)),J=Object(l.b)((function(e){return{contacts:A(e)}}),(function(e){return{onContact:function(t){return e(M(t))}}}))(T),P=function(e){var t=e.name,n=e.number,a=e.onRemove;return c.a.createElement("li",{className:"listContacts"},c.a.createElement("span",{className:"list"},t),c.a.createElement("span",{className:"list"}," ",n),c.a.createElement("button",{className:"list",type:"button",onClick:a},"Delete"))},U=(n(67),Object(l.b)((function(e){return{contacts:B(e)}}),(function(e){return{onRemoveContact:function(t){return e(S(t))}}}))((function(e){var t=e.contacts,n=e.onRemoveContact;return c.a.createElement("ul",{className:"contextListContacts"},c.a.createElement("header",{className:"listContacts"},c.a.createElement("span",{className:"headerList"},"name"),c.a.createElement("span",{className:"headerList"},"telephone"),c.a.createElement("span",{className:"headerList"},"action")),t.map((function(e){var t=e.id,a=e.name,r=e.number;return c.a.createElement(P,{key:t,name:a,number:r,onRemove:function(){return n(t)}})})))}))),z=Object(l.b)((function(e){return{value:q(e)}}),(function(e){return{handleFilter:function(t){return e(N(t.target.value))}}}))((function(e){var t=e.value,n=e.handleFilter;return c.a.createElement("div",null,c.a.createElement("label",null,"Find contacts by name",c.a.createElement("input",{type:"text",className:"input",placeholder:"Enter name",value:t,name:"filter",onChange:n})))})),I=n(36),W=n.n(I),G=function(){return c.a.createElement(W.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:3e3})},H=(n(87),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.listContacts()}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Phonebook"),c.a.createElement(J,null),c.a.createElement("h2",null,"Contact"),c.a.createElement(z,null),this.props.isLoading&&c.a.createElement(G,null),c.a.createElement(U,null))}}]),n}(a.Component)),Q=Object(l.b)((function(e){return{isLoading:x(e)}}),(function(e){return{listContacts:function(){return e(D())}}}))(H),V=n(20),X=n(37),Y=n.n(X),Z=n(11),$=n(4),ee=Object(p.c)([],(F={},Object(f.a)(F,j,(function(e,t){return t.payload})),Object(f.a)(F,C,(function(e,t){var n=t.payload;return[].concat(Object(V.a)(e),[n])})),Object(f.a)(F,k,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),F)),te=Object(p.c)(!1,(L={},Object(f.a)(L,v,(function(){return!0})),Object(f.a)(L,j,(function(){return!1})),Object(f.a)(L,O,(function(){return!1})),Object(f.a)(L,E,(function(){return!0})),Object(f.a)(L,C,(function(){return!1})),Object(f.a)(L,y,(function(){return!1})),Object(f.a)(L,g,(function(){return!0})),Object(f.a)(L,k,(function(){return!1})),Object(f.a)(L,w,(function(){return!1})),L)),ne=Object(p.c)("",Object(f.a)({},N,(function(e,t){return t.payload}))),ae=Object($.c)({items:ee,filter:ne,loading:te}),ce=[].concat(Object(V.a)(Object(p.d)({serializableCheck:{ignoredActions:[Z.a,Z.f,Z.b,Z.c,Z.d,Z.e]}})),[Y.a]),re=Object(p.a)({reducer:{contacts:ae},middleware:ce,devTools:!1});o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,{store:re},c.a.createElement(u.a,null,c.a.createElement(Q,null)))),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.cb11a638.chunk.js.map